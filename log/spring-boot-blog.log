2018-01-30 09:07:47 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Starting ImhiApplication on star-PC with PID 4517 (/home/star/IdeaProjects/imhi/target/classes started by star in /home/star/IdeaProjects/imhi) 
2018-01-30 09:07:47 [restartedMain] DEBUG com.jit.imhi.ImhiApplication : 
 Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE 
2018-01-30 09:07:47 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 No active profile set, falling back to default profiles: default 
2018-01-30 09:07:52 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Started ImhiApplication in 5.667 seconds (JVM running for 7.027) 
2018-01-30 09:13:20 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Starting ImhiApplication on star-PC with PID 5282 (/home/star/IdeaProjects/imhi/target/classes started by star in /home/star/IdeaProjects/imhi) 
2018-01-30 09:13:20 [restartedMain] DEBUG com.jit.imhi.ImhiApplication : 
 Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE 
2018-01-30 09:13:20 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 No active profile set, falling back to default profiles: default 
2018-01-30 09:13:30 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Started ImhiApplication in 12.116 seconds (JVM running for 13.93) 
2018-01-30 09:25:29 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Starting ImhiApplication on star-PC with PID 6619 (/home/star/IdeaProjects/imhi/target/classes started by star in /home/star/IdeaProjects/imhi) 
2018-01-30 09:25:29 [restartedMain] DEBUG com.jit.imhi.ImhiApplication : 
 Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE 
2018-01-30 09:25:29 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 No active profile set, falling back to default profiles: default 
2018-01-30 09:25:37 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Started ImhiApplication in 9.002 seconds (JVM running for 10.065) 
2018-01-30 09:26:12 [http-nio-8080-exec-2] DEBUG c.j.i.m.UserMapper.selectByPhoneNum : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where phone_num = ?  
2018-01-30 09:26:12 [http-nio-8080-exec-2] DEBUG c.j.i.m.UserMapper.selectByPhoneNum : 
 ==> Parameters: 13260901111(String) 
2018-01-30 09:26:12 [http-nio-8080-exec-2] DEBUG c.j.i.m.UserMapper.selectByPhoneNum : 
 <==      Total: 1 
2018-01-30 09:51:39 [http-nio-8080-exec-4] ERROR c.j.i.config.GloablExceptionHandler : 
 java.lang.RuntimeException: token无效，请重新登录
	at com.jit.imhi.config.AuthenticationInterceptor.preHandle(AuthenticationInterceptor.java:48)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:133)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:962)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 09:53:17 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Starting ImhiApplication on star-PC with PID 9059 (/home/star/IdeaProjects/imhi/target/classes started by star in /home/star/IdeaProjects/imhi) 
2018-01-30 09:53:17 [restartedMain] DEBUG com.jit.imhi.ImhiApplication : 
 Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE 
2018-01-30 09:53:17 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 No active profile set, falling back to default profiles: default 
2018-01-30 09:53:22 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Started ImhiApplication in 6.103 seconds (JVM running for 7.108) 
2018-01-30 09:53:42 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 09:53:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 09:53:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 09:53:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 09:53:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517277223183.jpg"}(String), 1(Integer), 2018-01-30 09:53:43.184(Timestamp) 
2018-01-30 09:53:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 09:53:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 09:53:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 09:53:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 09:55:03 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 09:55:03 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 09:55:03 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 09:55:03 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 09:55:03 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"IMG_20180127_144348.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/IMG_20180127_1443481517277303941.jpg"}(String), 1(Integer), 2018-01-30 09:55:03.941(Timestamp) 
2018-01-30 09:55:04 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 09:55:04 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 09:55:04 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 09:55:04 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 09:58:44 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 09:58:44 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 09:58:44 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 09:58:44 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 09:58:44 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"IMG_20180127_144329.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/IMG_20180127_1443291517277524660.jpg"}(String), 1(Integer), 2018-01-30 09:58:44.66(Timestamp) 
2018-01-30 09:58:44 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 09:58:44 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 09:58:44 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 09:58:44 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:04:23 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:04:23 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:04:23 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:04:23 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:04:23 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517277863661.jpg"}(String), 1(Integer), 2018-01-30 10:04:23.662(Timestamp) 
2018-01-30 10:04:23 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:04:23 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:04:23 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:04:23 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:04:41 [http-nio-8080-exec-8] ERROR c.j.i.config.GloablExceptionHandler : 
 java.lang.RuntimeException: token无效，请重新登录
	at com.jit.imhi.config.AuthenticationInterceptor.preHandle(AuthenticationInterceptor.java:48)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:133)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:962)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 10:04:47 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:04:47 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:04:47 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:04:47 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:04:47 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"截屏_20180129_151844.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/截屏_20180129_1518441517277887355.jpg"}(String), 1(Integer), 2018-01-30 10:04:47.355(Timestamp) 
2018-01-30 10:04:47 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:04:47 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:04:47 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:04:47 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:05:28 [http-nio-8080-exec-10] ERROR c.j.i.config.GloablExceptionHandler : 
 java.lang.RuntimeException: token无效，请重新登录
	at com.jit.imhi.config.AuthenticationInterceptor.preHandle(AuthenticationInterceptor.java:48)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:133)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:962)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 10:06:54 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:06:54 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:06:54 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:06:54 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:06:54 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"截屏_20180127_183126.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/截屏_20180127_1831261517278014247.jpg"}(String), 1(Integer), 2018-01-30 10:06:54.247(Timestamp) 
2018-01-30 10:06:54 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:06:54 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:06:54 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:06:54 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:07:34 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:07:34 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:07:34 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:07:34 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:07:34 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517278054693.mp4"}(String), 1(Integer), 2018-01-30 10:07:34.693(Timestamp) 
2018-01-30 10:07:35 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:07:35 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:07:35 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:07:35 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:07:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:07:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:07:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:07:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:07:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517278072153.mp4"}(String), 1(Integer), 2018-01-30 10:07:52.153(Timestamp) 
2018-01-30 10:07:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:07:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:07:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:07:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:09:40 [http-nio-8080-exec-7] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:112)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:86)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:79)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:936)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.apache.catalina.connector.Request.parseParts(Request.java:2893)
	at org.apache.catalina.connector.Request.parseParameters(Request.java:3211)
	at org.apache.catalina.connector.Request.getParameter(Request.java:1137)
	at org.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:75)
	... 23 more
 
2018-01-30 10:10:07 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:10:07 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:10:07 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:10:07 [http-nio-8080-exec-8] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 10:11:25 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:11:25 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:11:25 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:11:25 [http-nio-8080-exec-10] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 10:12:06 [http-nio-8080-exec-2] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:112)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:86)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:79)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:936)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.apache.catalina.connector.Request.parseParts(Request.java:2893)
	at org.apache.catalina.connector.Request.parseParameters(Request.java:3211)
	at org.apache.catalina.connector.Request.getParameter(Request.java:1137)
	at org.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:75)
	... 23 more
 
2018-01-30 10:17:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:17:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:17:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:17:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:17:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"2018-01-30-101749.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-1017491517278672219.m4a"}(String), 1(Integer), 2018-01-30 10:17:52.22(Timestamp) 
2018-01-30 10:17:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:17:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:17:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:17:52 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:18:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:18:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:18:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:18:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:18:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"2018-01-30-101800.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-1018001517278681532.m4a"}(String), 1(Integer), 2018-01-30 10:18:01.532(Timestamp) 
2018-01-30 10:18:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:18:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:18:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:18:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:18:30 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:18:30 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:18:30 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:18:30 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:18:30 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"2018-01-30-101829.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-1018291517278710484.m4a"}(String), 1(Integer), 2018-01-30 10:18:30.484(Timestamp) 
2018-01-30 10:18:30 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:18:30 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:18:30 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:18:30 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:19:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:19:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:19:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:19:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:19:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"-33c2b8aae3646def.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/-33c2b8aae3646def1517278795468.jpg"}(String), 1(Integer), 2018-01-30 10:19:55.468(Timestamp) 
2018-01-30 10:19:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:19:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:19:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:19:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:20:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:20:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:20:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:20:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:20:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"截屏_20180127_183126.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/截屏_20180127_1831261517278811726.jpg"}(String), 1(Integer), 2018-01-30 10:20:11.727(Timestamp) 
2018-01-30 10:20:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:20:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:20:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:20:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:20:59 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:20:59 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:20:59 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:20:59 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:20:59 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"IMG_20180127_143454.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/IMG_20180127_1434541517278859850.jpg"}(String), 1(Integer), 2018-01-30 10:20:59.85(Timestamp) 
2018-01-30 10:20:59 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:20:59 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:20:59 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:20:59 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:40:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:40:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:40:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:40:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:40:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517280013129.jpg"}(String), 1(Integer), 2018-01-30 10:40:13.129(Timestamp) 
2018-01-30 10:40:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:40:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:40:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:40:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:40:19 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:40:19 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:40:19 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:40:19 [http-nio-8080-exec-4] ERROR c.j.i.config.GloablExceptionHandler : 
 java.lang.StringIndexOutOfBoundsException: String index out of range: -1
	at java.lang.String.substring(String.java:1927)
	at com.jit.imhi.service.FileOperateService.saveFileToNative(FileOperateService.java:63)
	at com.jit.imhi.api.FileOperateApi.upLoadFile(FileOperateApi.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 10:45:04 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Starting ImhiApplication on star-PC with PID 11224 (/home/star/IdeaProjects/imhi/target/classes started by star in /home/star/IdeaProjects/imhi) 
2018-01-30 10:45:04 [restartedMain] DEBUG com.jit.imhi.ImhiApplication : 
 Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE 
2018-01-30 10:45:04 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 No active profile set, falling back to default profiles: default 
2018-01-30 10:45:08 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Started ImhiApplication in 4.672 seconds (JVM running for 5.541) 
2018-01-30 10:45:15 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:45:16 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:45:16 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:45:16 [http-nio-8080-exec-1] ERROR c.j.i.config.GloablExceptionHandler : 
 java.lang.StringIndexOutOfBoundsException: String index out of range: -1
	at java.lang.String.substring(String.java:1927)
	at com.jit.imhi.service.FileOperateService.saveFileToNative(FileOperateService.java:66)
	at com.jit.imhi.api.FileOperateApi.upLoadFile(FileOperateApi.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 10:46:19 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:46:19 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:46:19 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:46:19 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:46:19 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"2018-01-30-104617.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-1046171517280379429.jpg"}(String), 1(Integer), 2018-01-30 10:46:19.429(Timestamp) 
2018-01-30 10:46:19 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:46:19 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:46:19 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:46:19 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:46:47 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:46:47 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:46:47 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:46:47 [http-nio-8080-exec-4] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 10:47:06 [http-nio-8080-exec-5] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:112)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:86)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:79)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:936)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.apache.catalina.connector.Request.parseParts(Request.java:2893)
	at org.apache.catalina.connector.Request.parseParameters(Request.java:3211)
	at org.apache.catalina.connector.Request.getParameter(Request.java:1137)
	at org.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:75)
	... 23 more
 
2018-01-30 10:48:15 [http-nio-8080-exec-7] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:112)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:86)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:79)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:936)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.apache.catalina.connector.Request.parseParts(Request.java:2893)
	at org.apache.catalina.connector.Request.parseParameters(Request.java:3211)
	at org.apache.catalina.connector.Request.getParameter(Request.java:1137)
	at org.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:75)
	... 23 more
 
2018-01-30 10:51:46 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:51:46 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:51:46 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:51:46 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:51:46 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"2018-01-30-105146.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-1051461517280706882.jpg"}(String), 1(Integer), 2018-01-30 10:51:46.882(Timestamp) 
2018-01-30 10:51:46 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:51:46 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:51:46 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:51:47 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:52:12 [http-nio-8080-exec-9] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:112)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:86)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:79)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:936)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.apache.catalina.connector.Request.parseParts(Request.java:2893)
	at org.apache.catalina.connector.Request.parseParameters(Request.java:3211)
	at org.apache.catalina.connector.Request.getParameter(Request.java:1137)
	at org.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:75)
	... 23 more
 
2018-01-30 10:54:37 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Starting ImhiApplication on star-PC with PID 11755 (/home/star/IdeaProjects/imhi/target/classes started by star in /home/star/IdeaProjects/imhi) 
2018-01-30 10:54:37 [restartedMain] DEBUG com.jit.imhi.ImhiApplication : 
 Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE 
2018-01-30 10:54:37 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 No active profile set, falling back to default profiles: default 
2018-01-30 10:54:40 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Started ImhiApplication in 4.514 seconds (JVM running for 5.463) 
2018-01-30 10:55:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 10:55:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 10:55:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 10:55:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 10:55:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"2018-01-30-105503.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-1055031517280908247.jpg"}(String), 1(Integer), 2018-01-30 10:55:08.247(Timestamp) 
2018-01-30 10:55:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 10:55:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 10:55:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 10:55:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 10:55:28 [http-nio-8080-exec-2] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:112)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:86)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:79)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:936)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.apache.catalina.connector.Request.parseParts(Request.java:2893)
	at org.apache.catalina.connector.Request.parseParameters(Request.java:3211)
	at org.apache.catalina.connector.Request.getParameter(Request.java:1137)
	at org.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:75)
	... 23 more
 
2018-01-30 10:56:58 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Starting ImhiApplication on star-PC with PID 11931 (/home/star/IdeaProjects/imhi/target/classes started by star in /home/star/IdeaProjects/imhi) 
2018-01-30 10:56:58 [restartedMain] DEBUG com.jit.imhi.ImhiApplication : 
 Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE 
2018-01-30 10:56:58 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 No active profile set, falling back to default profiles: default 
2018-01-30 10:57:02 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Started ImhiApplication in 4.543 seconds (JVM running for 5.479) 
2018-01-30 10:57:14 [http-nio-8080-exec-1] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:112)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:86)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:79)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:936)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.apache.catalina.connector.Request.parseParts(Request.java:2893)
	at org.apache.catalina.connector.Request.parseParameters(Request.java:3211)
	at org.apache.catalina.connector.Request.getParameter(Request.java:1137)
	at org.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:75)
	... 23 more
 
2018-01-30 11:03:39 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 11:03:39 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 11:03:39 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 11:03:39 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 11:03:39 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517281419811.jpg"}(String), 1(Integer), 2018-01-30 11:03:39.811(Timestamp) 
2018-01-30 11:03:39 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 11:03:39 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 11:03:39 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 11:03:39 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 11:03:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 11:03:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 11:03:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 11:03:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 11:03:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"2018-01-30-110345.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-1103451517281426247.jpg"}(String), 1(Integer), 2018-01-30 11:03:46.251(Timestamp) 
2018-01-30 11:03:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 11:03:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 11:03:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 11:03:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 11:05:20 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 11:05:20 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 11:05:20 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 11:05:20 [http-nio-8080-exec-6] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 11:08:43 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 11:08:43 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 11:08:43 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 11:08:43 [http-nio-8080-exec-8] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 11:12:52 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 11:12:52 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 11:12:53 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 11:12:53 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 11:12:53 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517281973008.mp4"}(String), 1(Integer), 2018-01-30 11:12:53.008(Timestamp) 
2018-01-30 11:12:53 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 11:12:53 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 11:12:53 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 11:12:53 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 11:13:20 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 11:13:20 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 11:13:20 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 11:13:20 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 11:13:20 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517282000793.mp4"}(String), 1(Integer), 2018-01-30 11:13:20.793(Timestamp) 
2018-01-30 11:13:20 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 11:13:20 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 11:13:20 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 11:13:20 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 11:15:27 [http-nio-8080-exec-4] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:112)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:86)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:79)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:936)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.apache.catalina.connector.Request.parseParts(Request.java:2893)
	at org.apache.catalina.connector.Request.parseParameters(Request.java:3211)
	at org.apache.catalina.connector.Request.getParameter(Request.java:1137)
	at org.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:75)
	... 23 more
 
2018-01-30 11:18:00 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 11:18:00 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 11:18:00 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 11:18:00 [http-nio-8080-exec-6] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 11:22:08 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 11:22:08 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 11:22:08 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 11:22:08 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 11:22:08 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"2018-01-30-112207.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-1122071517282528922.jpg"}(String), 1(Integer), 2018-01-30 11:22:08.922(Timestamp) 
2018-01-30 11:22:09 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 11:22:09 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 11:22:09 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 11:22:09 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 11:22:51 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 11:22:51 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 11:22:51 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 11:22:51 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 11:22:51 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517282571954.mp4"}(String), 1(Integer), 2018-01-30 11:22:51.954(Timestamp) 
2018-01-30 11:22:52 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 11:22:52 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 11:22:52 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 11:22:52 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 11:23:10 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 11:23:10 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 11:23:10 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 11:23:10 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 11:23:10 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517282590223.mp4"}(String), 1(Integer), 2018-01-30 11:23:10.223(Timestamp) 
2018-01-30 11:23:10 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 11:23:10 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 11:23:10 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 11:23:10 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 11:23:42 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 11:23:42 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 11:23:42 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 11:23:42 [http-nio-8080-exec-1] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 11:25:08 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 11:25:08 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 11:25:08 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 11:25:08 [http-nio-8080-exec-4] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 11:27:53 [http-nio-8080-exec-6] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:112)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:86)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:79)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:936)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: The multi-part request contained parameter data (excluding uploaded files) that exceeded the limit for maxPostSize set on the associated connector
	at org.apache.catalina.connector.Request.parseParts(Request.java:2893)
	at org.apache.catalina.connector.Request.parseParameters(Request.java:3211)
	at org.apache.catalina.connector.Request.getParameter(Request.java:1137)
	at org.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:75)
	... 23 more
 
2018-01-30 11:28:37 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 11:28:37 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 11:28:37 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 11:28:37 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 11:28:37 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517282917648.mp4"}(String), 1(Integer), 2018-01-30 11:28:37.648(Timestamp) 
2018-01-30 11:28:37 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 11:28:37 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 11:28:37 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 11:28:37 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 11:33:14 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 11:33:14 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 11:33:14 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 11:33:14 [http-nio-8080-exec-9] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 12:16:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 12:16:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 12:16:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 12:16:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 12:16:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"2018-01-30-121641.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-1216411517285803326.jpg"}(String), 1(Integer), 2018-01-30 12:16:43.326(Timestamp) 
2018-01-30 12:16:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 12:16:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 12:16:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 12:16:43 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 12:16:51 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 12:16:51 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 12:16:51 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 12:16:51 [http-nio-8080-exec-2] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 12:19:12 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 12:19:12 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 12:19:12 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 12:19:12 [http-nio-8080-exec-4] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 12:23:12 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 12:23:12 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 12:23:12 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 12:23:12 [http-nio-8080-exec-6] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 12:29:06 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Starting ImhiApplication on star-PC with PID 15280 (/home/star/IdeaProjects/imhi/target/classes started by star in /home/star/IdeaProjects/imhi) 
2018-01-30 12:29:06 [restartedMain] DEBUG com.jit.imhi.ImhiApplication : 
 Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE 
2018-01-30 12:29:06 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 No active profile set, falling back to default profiles: default 
2018-01-30 12:29:10 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Started ImhiApplication in 5.347 seconds (JVM running for 6.74) 
2018-01-30 12:30:00 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 12:30:00 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 12:30:00 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 12:30:00 [http-nio-8080-exec-1] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 12:32:31 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 12:32:31 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 12:32:31 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 12:32:31 [http-nio-8080-exec-3] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 12:33:06 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 12:33:06 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 12:33:06 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 12:33:06 [http-nio-8080-exec-4] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 12:33:22 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 12:33:22 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 12:33:22 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 12:33:22 [http-nio-8080-exec-5] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 12:33:44 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 12:33:44 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 12:33:44 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 12:33:44 [http-nio-8080-exec-7] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 12:34:06 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Starting ImhiApplication on star-PC with PID 15685 (/home/star/IdeaProjects/imhi/target/classes started by star in /home/star/IdeaProjects/imhi) 
2018-01-30 12:34:06 [restartedMain] DEBUG com.jit.imhi.ImhiApplication : 
 Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE 
2018-01-30 12:34:06 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 No active profile set, falling back to default profiles: default 
2018-01-30 12:34:09 [restartedMain] INFO  com.jit.imhi.ImhiApplication : 
 Started ImhiApplication in 4.405 seconds (JVM running for 5.348) 
2018-01-30 12:34:21 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 12:34:21 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 12:34:21 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 12:34:21 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 12:34:21 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10023(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517286861250.jpg"}(String), 1(Integer), 2018-01-30 12:34:21.25(Timestamp) 
2018-01-30 12:34:21 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 12:34:21 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 12:34:21 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 12:34:21 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 12:34:51 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 12:34:51 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 12:34:51 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 12:34:51 [http-nio-8080-exec-2] ERROR c.j.i.config.GloablExceptionHandler : 
 org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:109)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
 
2018-01-30 12:39:54 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 12:39:54 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 12:39:54 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 12:39:55 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 12:39:55 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517287195000.jpg"}(String), 1(Integer), 2018-01-30 12:39:55.001(Timestamp) 
2018-01-30 12:39:55 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 12:39:55 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 12:39:55 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 12:39:55 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 12:48:07 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 12:48:07 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 12:48:07 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 12:48:07 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 12:48:07 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"截屏_20180129_151844.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/截屏_20180129_1518441517287687960.jpg"}(String), 1(Integer), 2018-01-30 12:48:07.96(Timestamp) 
2018-01-30 12:48:08 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 12:48:08 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 12:48:08 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 12:48:08 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 13:56:14 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 13:56:14 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 13:56:14 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 13:56:14 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 13:56:14 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517291774873.jpg"}(String), 1(Integer), 2018-01-30 13:56:14.874(Timestamp) 
2018-01-30 13:56:14 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 13:56:14 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 13:56:14 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 13:56:15 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 13:56:34 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 13:56:34 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 13:56:34 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 13:56:34 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 13:56:34 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517291794774.jpg"}(String), 1(Integer), 2018-01-30 13:56:34.774(Timestamp) 
2018-01-30 13:56:34 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 13:56:34 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 13:56:34 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 13:56:34 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 13:57:00 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 13:57:00 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 13:57:00 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 13:57:00 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 13:57:00 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517291820417.jpg"}(String), 1(Integer), 2018-01-30 13:57:00.417(Timestamp) 
2018-01-30 13:57:00 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 13:57:00 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 13:57:00 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 13:57:00 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 13:57:18 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 13:57:18 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 13:57:18 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 13:57:18 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 13:57:18 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"截屏_20180129_151844.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/截屏_20180129_1518441517291838817.jpg"}(String), 1(Integer), 2018-01-30 13:57:18.818(Timestamp) 
2018-01-30 13:57:18 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 13:57:18 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 13:57:18 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 13:57:18 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 13:57:56 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 13:57:56 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 13:57:56 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 13:57:56 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 13:57:56 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"截屏_20180129_151822.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/截屏_20180129_1518221517291876715.jpg"}(String), 1(Integer), 2018-01-30 13:57:56.715(Timestamp) 
2018-01-30 13:57:56 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 13:57:56 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 13:57:56 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 13:57:56 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 13:58:45 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 13:58:45 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 13:58:45 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 13:58:45 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 13:58:45 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"截屏_20180129_151844.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/截屏_20180129_1518441517291925962.jpg"}(String), 1(Integer), 2018-01-30 13:58:45.962(Timestamp) 
2018-01-30 13:58:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 13:58:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 13:58:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 13:58:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:02:48 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:02:48 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:02:48 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:02:48 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:02:48 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517292168701.jpg"}(String), 1(Integer), 2018-01-30 14:02:48.701(Timestamp) 
2018-01-30 14:02:48 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:02:48 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:02:48 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:02:48 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:06:49 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:06:49 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:06:49 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:06:49 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:06:49 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517292409565.jpg"}(String), 1(Integer), 2018-01-30 14:06:49.566(Timestamp) 
2018-01-30 14:06:49 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:06:49 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:06:49 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:06:49 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:07:37 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:07:37 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:07:37 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:07:37 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:07:37 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517292457672.jpg"}(String), 1(Integer), 2018-01-30 14:07:37.672(Timestamp) 
2018-01-30 14:07:37 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:07:37 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:07:37 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:07:37 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:08:26 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:08:26 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:08:26 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:08:26 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:08:26 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"截屏_20180129_151844.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/截屏_20180129_1518441517292506823.jpg"}(String), 1(Integer), 2018-01-30 14:08:26.823(Timestamp) 
2018-01-30 14:08:26 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:08:26 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:08:26 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:08:26 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:10:01 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:10:01 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:10:01 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:10:01 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:10:01 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517292601446.jpg"}(String), 1(Integer), 2018-01-30 14:10:01.446(Timestamp) 
2018-01-30 14:10:01 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:10:01 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:10:01 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:10:01 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:10:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:10:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:10:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:10:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:10:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 751(Integer) 
2018-01-30 14:10:01 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:10:01 [http-nio-8080-exec-5] ERROR c.j.i.config.GloablExceptionHandler : 
 org.apache.catalina.connector.ClientAbortException: java.io.IOException: 连接被对方重设
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:356)
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:815)
	at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:720)
	at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:391)
	at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:369)
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96)
	at org.springframework.util.StreamUtils.copy(StreamUtils.java:138)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:110)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:102)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:45)
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:227)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:247)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:203)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:81)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:113)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: 连接被对方重设
	at sun.nio.ch.FileDispatcherImpl.write0(Native Method)
	at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)
	at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)
	at sun.nio.ch.IOUtil.write(IOUtil.java:65)
	at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:471)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:134)
	at org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:101)
	at org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:157)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1267)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:670)
	at org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:450)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:388)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:644)
	at org.apache.coyote.http11.filters.IdentityOutputFilter.doWrite(IdentityOutputFilter.java:119)
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:235)
	at org.apache.coyote.Response.doWrite(Response.java:541)
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:351)
	... 61 more
 
2018-01-30 14:11:05 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:11:05 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:11:05 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:11:05 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:11:05 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517292665506.jpg"}(String), 1(Integer), 2018-01-30 14:11:05.507(Timestamp) 
2018-01-30 14:11:05 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:11:05 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:11:05 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:11:05 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:16:25 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:16:25 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:16:26 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:16:26 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:16:26 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517292986046.jpg"}(String), 1(Integer), 2018-01-30 14:16:26.047(Timestamp) 
2018-01-30 14:16:26 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:16:26 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:16:26 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:16:26 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:16:26 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:16:26 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:16:26 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:16:26 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:16:26 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 754(Integer) 
2018-01-30 14:16:26 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:18:07 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:18:07 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:18:07 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:18:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:18:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517293088001.jpg"}(String), 1(Integer), 2018-01-30 14:18:08.001(Timestamp) 
2018-01-30 14:18:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:18:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:18:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:18:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:18:08 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:18:08 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:18:08 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:18:08 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:18:08 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 755(Integer) 
2018-01-30 14:18:08 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:20:13 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:20:13 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:20:13 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:20:13 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:20:13 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517293213924.jpg"}(String), 1(Integer), 2018-01-30 14:20:13.924(Timestamp) 
2018-01-30 14:20:14 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:20:14 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:20:14 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:20:14 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:20:14 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:20:14 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:20:14 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:20:14 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:20:14 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 756(Integer) 
2018-01-30 14:20:14 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:20:57 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:20:57 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:20:57 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:20:57 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:20:57 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517293257412.jpg"}(String), 1(Integer), 2018-01-30 14:20:57.412(Timestamp) 
2018-01-30 14:20:57 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:20:57 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:20:57 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:20:57 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:20:57 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:20:57 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:20:57 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:20:57 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:20:57 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 757(Integer) 
2018-01-30 14:20:57 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:23:34 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:23:34 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:23:35 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:23:35 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:23:35 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517293415026.jpg"}(String), 1(Integer), 2018-01-30 14:23:35.027(Timestamp) 
2018-01-30 14:23:35 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:23:35 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:23:35 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:23:35 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:23:35 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:23:35 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:23:35 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:23:35 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:23:35 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 758(Integer) 
2018-01-30 14:23:35 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:26:49 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:26:49 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:26:49 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:26:49 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:26:49 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 0(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517293609518.jpg"}(String), 1(Integer), 2018-01-30 14:26:49.518(Timestamp) 
2018-01-30 14:26:49 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:26:49 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:26:49 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:26:49 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:26:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:26:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:26:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:26:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:26:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 759(Integer) 
2018-01-30 14:26:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:26:49 [http-nio-8080-exec-4] ERROR c.j.i.config.GloablExceptionHandler : 
 org.apache.catalina.connector.ClientAbortException: java.io.IOException: 连接被对方重设
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:356)
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:815)
	at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:720)
	at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:391)
	at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:369)
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96)
	at org.springframework.util.StreamUtils.copy(StreamUtils.java:138)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:110)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:102)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:45)
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:227)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:247)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:203)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:81)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:113)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: 连接被对方重设
	at sun.nio.ch.FileDispatcherImpl.write0(Native Method)
	at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)
	at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)
	at sun.nio.ch.IOUtil.write(IOUtil.java:65)
	at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:471)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:134)
	at org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:101)
	at org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:157)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1267)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:670)
	at org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:450)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:388)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:644)
	at org.apache.coyote.http11.filters.IdentityOutputFilter.doWrite(IdentityOutputFilter.java:119)
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:235)
	at org.apache.coyote.Response.doWrite(Response.java:541)
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:351)
	... 61 more
 
2018-01-30 14:26:57 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:26:57 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:26:57 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:26:57 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:26:57 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 0(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517293617185.jpg"}(String), 1(Integer), 2018-01-30 14:26:57.186(Timestamp) 
2018-01-30 14:26:57 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:26:57 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:26:57 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:26:57 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:26:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:26:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:26:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:26:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:26:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 760(Integer) 
2018-01-30 14:26:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:29:29 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:29:29 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:29:29 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:29:29 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:29:29 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517293769362.jpg"}(String), 1(Integer), 2018-01-30 14:29:29.362(Timestamp) 
2018-01-30 14:29:29 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:29:29 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:29:29 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:29:29 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:29:29 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:29:29 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:29:29 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:29:29 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:29:29 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 761(Integer) 
2018-01-30 14:29:29 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:36:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:36:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:36:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:36:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:36:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517294168379.jpg"}(String), 1(Integer), 2018-01-30 14:36:08.379(Timestamp) 
2018-01-30 14:36:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:36:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:36:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:36:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:36:09 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:36:09 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:36:09 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:36:09 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:36:09 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 762(Integer) 
2018-01-30 14:36:09 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:36:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:36:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:36:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:36:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:36:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"截屏_20180129_151844.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/截屏_20180129_1518441517294209256.jpg"}(String), 1(Integer), 2018-01-30 14:36:49.256(Timestamp) 
2018-01-30 14:36:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:36:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:36:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:36:49 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:36:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:36:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:36:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:36:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:36:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 763(Integer) 
2018-01-30 14:36:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:36:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:36:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:36:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:36:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:36:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517294217899.jpg"}(String), 1(Integer), 2018-01-30 14:36:57.899(Timestamp) 
2018-01-30 14:36:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:36:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:36:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:36:58 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:36:58 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:36:58 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:36:58 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:36:58 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:36:58 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 764(Integer) 
2018-01-30 14:36:58 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:37:04 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:37:04 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:37:04 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:37:04 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:37:04 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"截屏_20180129_151822.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/截屏_20180129_1518221517294224141.jpg"}(String), 1(Integer), 2018-01-30 14:37:04.142(Timestamp) 
2018-01-30 14:37:04 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:37:04 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:37:04 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:37:04 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:37:04 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:37:04 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:37:04 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:37:04 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:37:04 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 765(Integer) 
2018-01-30 14:37:04 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:38:05 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:38:05 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:38:05 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:38:05 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:38:05 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517294285089.mp4"}(String), 1(Integer), 2018-01-30 14:38:05.091(Timestamp) 
2018-01-30 14:38:05 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:38:05 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:38:05 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:38:05 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:38:15 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:38:15 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:38:15 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:38:15 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:38:15 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517294295373.jpg"}(String), 1(Integer), 2018-01-30 14:38:15.374(Timestamp) 
2018-01-30 14:38:15 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:38:15 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:38:15 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:38:15 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:38:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:38:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:38:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:38:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:38:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 767(Integer) 
2018-01-30 14:38:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:38:22 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:38:22 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:38:22 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:38:22 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:38:22 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"截屏_20180129_151844.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/截屏_20180129_1518441517294302226.jpg"}(String), 1(Integer), 2018-01-30 14:38:22.227(Timestamp) 
2018-01-30 14:38:22 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:38:22 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:38:22 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:38:22 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:38:22 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:38:22 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:38:22 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:38:22 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:38:22 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 768(Integer) 
2018-01-30 14:38:22 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:38:32 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:38:32 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:38:32 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:38:32 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:38:32 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"TMPSNAPSHOT1516797098697.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/TMPSNAPSHOT15167970986971517294312720.jpg"}(String), 1(Integer), 2018-01-30 14:38:32.72(Timestamp) 
2018-01-30 14:38:32 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:38:32 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:38:32 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:38:32 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:38:32 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:38:32 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:38:33 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:38:33 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:38:33 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 769(Integer) 
2018-01-30 14:38:33 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:39:09 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:39:09 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:39:09 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:39:09 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:39:09 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-023903.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0239031517294349344.m4a"}(String), 1(Integer), 2018-01-30 14:39:09.346(Timestamp) 
2018-01-30 14:39:09 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:39:09 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:39:09 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:39:09 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:42:31 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:42:31 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:42:31 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:42:31 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:42:31 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"截屏_20180127_104337.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/截屏_20180127_1043371517294551585.jpg"}(String), 1(Integer), 2018-01-30 14:42:31.586(Timestamp) 
2018-01-30 14:42:31 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:42:31 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:42:31 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:42:31 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:42:31 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:42:31 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:42:31 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:42:31 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:42:31 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 772(Integer) 
2018-01-30 14:42:31 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:45:42 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:45:42 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:45:42 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:45:42 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:45:42 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517294742196.jpg"}(String), 1(Integer), 2018-01-30 14:45:42.196(Timestamp) 
2018-01-30 14:45:42 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:45:42 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:45:42 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:45:42 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:45:42 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:45:42 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:45:42 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:45:42 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:45:42 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 773(Integer) 
2018-01-30 14:45:42 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:46:33 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:46:33 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:46:33 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:46:33 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:46:33 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517294793660.mp4"}(String), 1(Integer), 2018-01-30 14:46:33.66(Timestamp) 
2018-01-30 14:46:33 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:46:33 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:46:33 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:46:33 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:50:20 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:50:20 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:50:20 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:50:20 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:50:20 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517295020628.mp4"}(String), 1(Integer), 2018-01-30 14:50:20.628(Timestamp) 
2018-01-30 14:50:20 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:50:20 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:50:20 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:50:20 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:50:20 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:50:20 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:50:20 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:50:20 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:50:20 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 775(Integer) 
2018-01-30 14:50:20 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:50:54 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:50:54 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:50:54 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:50:54 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:50:54 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517295054187.mp4"}(String), 1(Integer), 2018-01-30 14:50:54.187(Timestamp) 
2018-01-30 14:50:54 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:50:54 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:50:54 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:50:54 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:50:54 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:50:54 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:50:54 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:50:54 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:50:54 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 776(Integer) 
2018-01-30 14:50:54 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:53:05 [http-nio-8080-exec-10] ERROR c.j.i.config.GloablExceptionHandler : 
 org.apache.catalina.connector.ClientAbortException: java.io.IOException: 连接被对方重设
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:356)
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:815)
	at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:720)
	at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:391)
	at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:369)
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96)
	at org.springframework.util.StreamUtils.copy(StreamUtils.java:138)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:110)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:102)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:45)
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:227)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:247)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:203)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:81)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:113)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: 连接被对方重设
	at sun.nio.ch.FileDispatcherImpl.write0(Native Method)
	at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)
	at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)
	at sun.nio.ch.IOUtil.write(IOUtil.java:65)
	at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:471)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:134)
	at org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:101)
	at org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:157)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1267)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:670)
	at org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:450)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:388)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:644)
	at org.apache.coyote.http11.filters.IdentityOutputFilter.doWrite(IdentityOutputFilter.java:119)
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:235)
	at org.apache.coyote.Response.doWrite(Response.java:541)
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:351)
	... 61 more
 
2018-01-30 14:55:53 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:55:53 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:55:53 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:55:53 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:55:53 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517295353607.jpg"}(String), 1(Integer), 2018-01-30 14:55:53.607(Timestamp) 
2018-01-30 14:55:53 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:55:53 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:55:53 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:55:53 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:55:53 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:55:53 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:55:53 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:55:53 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:55:53 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 777(Integer) 
2018-01-30 14:55:53 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:56:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:56:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:56:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:56:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:56:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517295406675.mp4"}(String), 1(Integer), 2018-01-30 14:56:46.675(Timestamp) 
2018-01-30 14:56:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:56:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:56:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:56:46 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:56:46 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:56:46 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:56:47 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:56:47 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:56:47 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 778(Integer) 
2018-01-30 14:56:47 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:57:54 [http-nio-8080-exec-5] ERROR c.j.i.config.GloablExceptionHandler : 
 org.apache.catalina.connector.ClientAbortException: java.io.IOException: 连接被对方重设
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:356)
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:815)
	at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:720)
	at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:391)
	at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:369)
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96)
	at org.springframework.util.StreamUtils.copy(StreamUtils.java:138)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:110)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:102)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:45)
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:227)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:247)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:203)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:81)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:113)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: 连接被对方重设
	at sun.nio.ch.FileDispatcherImpl.write0(Native Method)
	at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)
	at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)
	at sun.nio.ch.IOUtil.write(IOUtil.java:65)
	at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:471)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:134)
	at org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:101)
	at org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:157)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1267)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:670)
	at org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:450)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:388)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:644)
	at org.apache.coyote.http11.filters.IdentityOutputFilter.doWrite(IdentityOutputFilter.java:119)
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:235)
	at org.apache.coyote.Response.doWrite(Response.java:541)
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:351)
	... 61 more
 
2018-01-30 14:58:11 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:58:11 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:58:11 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:58:11 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:58:11 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-025809.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0258091517295491819.m4a"}(String), 1(Integer), 2018-01-30 14:58:11.819(Timestamp) 
2018-01-30 14:58:11 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:58:11 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:58:11 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:58:11 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:58:11 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:58:11 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:58:12 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:58:12 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:58:12 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 781(Integer) 
2018-01-30 14:58:12 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:58:20 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:58:20 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:58:20 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:58:20 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:58:20 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-025814.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0258141517295500872.m4a"}(String), 1(Integer), 2018-01-30 14:58:20.873(Timestamp) 
2018-01-30 14:58:21 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:58:21 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:58:21 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:58:21 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:58:21 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:58:21 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:58:21 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:58:21 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:58:21 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 782(Integer) 
2018-01-30 14:58:21 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:58:57 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:58:57 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:58:58 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:58:58 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:58:58 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-025855.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0258551517295538050.m4a"}(String), 1(Integer), 2018-01-30 14:58:58.05(Timestamp) 
2018-01-30 14:58:58 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:58:58 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:58:58 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:58:58 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:58:58 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:58:58 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:58:58 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:58:58 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:58:58 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 783(Integer) 
2018-01-30 14:58:58 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:59:17 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:59:17 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:59:17 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:59:17 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 14:59:17 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-025907.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0259071517295557620.m4a"}(String), 1(Integer), 2018-01-30 14:59:17.62(Timestamp) 
2018-01-30 14:59:17 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 14:59:17 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 14:59:17 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 14:59:17 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 14:59:17 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 14:59:17 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 14:59:18 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 14:59:18 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 14:59:18 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 784(Integer) 
2018-01-30 14:59:18 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:00:27 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:00:27 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:00:27 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:00:27 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:00:27 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517295627927.mp4"}(String), 1(Integer), 2018-01-30 15:00:27.927(Timestamp) 
2018-01-30 15:00:28 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:00:28 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:00:28 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:00:28 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:00:28 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:00:28 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:00:28 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:00:28 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:00:28 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 785(Integer) 
2018-01-30 15:00:28 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:02:26 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:02:26 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:02:26 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:02:26 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:02:26 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517295746458.jpg"}(String), 1(Integer), 2018-01-30 15:02:26.458(Timestamp) 
2018-01-30 15:02:26 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:02:26 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:02:26 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:02:26 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:02:26 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:02:26 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:02:26 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:02:26 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:02:26 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 786(Integer) 
2018-01-30 15:02:26 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:03:05 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:03:05 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:03:05 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:03:05 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:03:05 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517295785385.mp4"}(String), 1(Integer), 2018-01-30 15:03:05.386(Timestamp) 
2018-01-30 15:03:05 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:03:05 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:03:05 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:03:05 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:03:05 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:03:05 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:03:05 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:03:05 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:03:05 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 787(Integer) 
2018-01-30 15:03:05 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:05:45 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:05:45 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:05:45 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:05:45 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:05:45 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-030538.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0305381517295945255.m4a"}(String), 1(Integer), 2018-01-30 15:05:45.256(Timestamp) 
2018-01-30 15:05:45 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:05:45 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:05:45 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:05:45 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:05:45 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:05:45 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:05:45 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:05:45 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:05:45 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 788(Integer) 
2018-01-30 15:05:45 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:06:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:06:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:06:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:06:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:06:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-030644.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0306441517296009121.m4a"}(String), 1(Integer), 2018-01-30 15:06:49.121(Timestamp) 
2018-01-30 15:06:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:06:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:06:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:06:49 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:06:49 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:06:49 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:06:49 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:06:49 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:06:49 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 789(Integer) 
2018-01-30 15:06:49 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:06:56 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:06:56 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:06:56 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:06:56 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:06:56 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-030655.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0306551517296016644.m4a"}(String), 1(Integer), 2018-01-30 15:06:56.644(Timestamp) 
2018-01-30 15:06:56 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:06:56 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:06:56 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:06:56 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:06:56 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:06:56 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:06:56 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:06:56 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:06:56 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 790(Integer) 
2018-01-30 15:06:56 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:21:03 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:21:03 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:21:03 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:21:03 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:21:03 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517296863936.jpg"}(String), 1(Integer), 2018-01-30 15:21:03.936(Timestamp) 
2018-01-30 15:21:04 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:21:04 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:21:04 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:21:04 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:21:04 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:21:04 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:21:04 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:21:04 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:21:04 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 791(Integer) 
2018-01-30 15:21:04 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:21:13 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:21:13 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:21:13 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:21:13 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:21:13 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-032107.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0321071517296873683.m4a"}(String), 1(Integer), 2018-01-30 15:21:13.683(Timestamp) 
2018-01-30 15:21:13 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:21:13 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:21:13 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:21:13 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:21:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:21:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:21:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:21:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:21:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 792(Integer) 
2018-01-30 15:21:13 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:21:22 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:21:22 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:21:23 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:21:23 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:21:23 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-032118.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0321181517296883037.m4a"}(String), 1(Integer), 2018-01-30 15:21:23.037(Timestamp) 
2018-01-30 15:21:23 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:21:23 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:21:23 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:21:23 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:21:23 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:21:23 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:21:23 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:21:23 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:21:23 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 793(Integer) 
2018-01-30 15:21:23 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:22:49 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:22:49 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:22:49 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:22:49 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:22:49 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-032242.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0322421517296969533.m4a"}(String), 1(Integer), 2018-01-30 15:22:49.533(Timestamp) 
2018-01-30 15:22:49 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:22:49 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:22:49 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:22:49 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:22:49 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:22:49 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:22:49 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:22:49 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:22:49 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 794(Integer) 
2018-01-30 15:22:49 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:22:56 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:22:56 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:22:56 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:22:56 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:22:56 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-032252.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0322521517296976120.m4a"}(String), 1(Integer), 2018-01-30 15:22:56.12(Timestamp) 
2018-01-30 15:22:56 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:22:56 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:22:56 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:22:56 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:22:56 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:22:56 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:22:56 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:22:56 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:22:56 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 795(Integer) 
2018-01-30 15:22:56 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:23:50 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:23:50 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:23:50 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:23:50 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:23:50 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-032344.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0323441517297030503.m4a"}(String), 1(Integer), 2018-01-30 15:23:50.503(Timestamp) 
2018-01-30 15:23:50 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:23:50 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:23:50 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:23:50 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:23:50 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:23:50 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:23:50 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:23:50 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:23:50 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 796(Integer) 
2018-01-30 15:23:50 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:24:52 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:24:52 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:24:52 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:24:52 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:24:52 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-032445.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0324451517297092131.m4a"}(String), 1(Integer), 2018-01-30 15:24:52.132(Timestamp) 
2018-01-30 15:24:52 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:24:52 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:24:52 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:24:52 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:24:52 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:24:52 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:24:52 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:24:52 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:24:52 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 798(Integer) 
2018-01-30 15:24:52 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:25:45 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:25:45 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:25:45 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:25:45 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:25:45 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-032541.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0325411517297145417.m4a"}(String), 1(Integer), 2018-01-30 15:25:45.418(Timestamp) 
2018-01-30 15:25:45 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:25:45 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:25:45 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:25:45 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:25:45 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:25:45 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:25:45 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:25:45 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:25:45 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 800(Integer) 
2018-01-30 15:25:45 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:27:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:27:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:27:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:27:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:27:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-032706.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0327061517297231621.m4a"}(String), 1(Integer), 2018-01-30 15:27:11.621(Timestamp) 
2018-01-30 15:27:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:27:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:27:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:27:11 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:27:11 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:27:11 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:27:11 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:27:11 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:27:11 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 801(Integer) 
2018-01-30 15:27:12 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:32:25 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:32:25 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:32:25 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:32:25 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:32:25 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-033222.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0332221517297545882.m4a"}(String), 1(Integer), 2018-01-30 15:32:25.882(Timestamp) 
2018-01-30 15:32:26 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:32:26 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:32:26 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:32:26 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:32:26 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:32:26 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:32:26 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:32:26 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:32:26 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 805(Integer) 
2018-01-30 15:32:26 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:33:55 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:33:55 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:33:55 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:33:55 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:33:55 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-033351.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0333511517297635562.m4a"}(String), 1(Integer), 2018-01-30 15:33:55.565(Timestamp) 
2018-01-30 15:33:55 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:33:55 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:33:55 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:33:55 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:33:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:33:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:33:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:33:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:33:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 806(Integer) 
2018-01-30 15:33:55 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:34:07 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:34:07 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:34:07 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:34:07 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:34:07 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-033358.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0333581517297647777.m4a"}(String), 1(Integer), 2018-01-30 15:34:07.78(Timestamp) 
2018-01-30 15:34:07 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:34:07 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:34:07 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:34:07 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:34:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:34:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:34:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:34:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:34:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 807(Integer) 
2018-01-30 15:34:08 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:34:42 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:34:42 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:34:42 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:34:42 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:34:42 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-033439.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0334391517297682531.m4a"}(String), 1(Integer), 2018-01-30 15:34:42.531(Timestamp) 
2018-01-30 15:34:42 [http-nio-8080-exec-10] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:34:42 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:34:42 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:34:42 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:34:42 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:34:42 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:34:42 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:34:42 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:34:42 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 808(Integer) 
2018-01-30 15:34:42 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:35:44 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:35:44 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:35:44 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:35:44 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:35:44 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"1517271889094.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/15172718890941517297744949.jpg"}(String), 1(Integer), 2018-01-30 15:35:44.949(Timestamp) 
2018-01-30 15:35:45 [http-nio-8080-exec-4] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:35:45 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:35:45 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:35:45 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:35:45 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:35:45 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:35:45 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:35:45 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:35:45 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 809(Integer) 
2018-01-30 15:35:45 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:36:03 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:36:03 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:36:03 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:36:03 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:36:03 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-033558.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0335581517297763135.m4a"}(String), 1(Integer), 2018-01-30 15:36:03.135(Timestamp) 
2018-01-30 15:36:03 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:36:03 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:36:03 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:36:03 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:36:03 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:36:03 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:36:03 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:36:03 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:36:03 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 810(Integer) 
2018-01-30 15:36:03 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:36:10 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:36:10 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:36:10 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:36:10 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:36:10 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-033606.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0336061517297770471.m4a"}(String), 1(Integer), 2018-01-30 15:36:10.471(Timestamp) 
2018-01-30 15:36:10 [http-nio-8080-exec-9] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:36:10 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:36:10 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:36:10 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:36:10 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:36:10 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:36:10 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:36:10 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:36:10 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 811(Integer) 
2018-01-30 15:36:11 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:37:21 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:37:21 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:37:22 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:37:22 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:37:22 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517297842799.mp4"}(String), 1(Integer), 2018-01-30 15:37:22.799(Timestamp) 
2018-01-30 15:37:24 [http-nio-8080-exec-1] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:37:24 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:37:24 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:37:25 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:37:28 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:37:28 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:37:29 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:37:29 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:37:29 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 814(Integer) 
2018-01-30 15:37:29 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:39:36 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:39:36 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:39:36 [http-nio-8080-exec-2] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:39:36 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:39:36 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"-33c2b8aae3646def.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/-33c2b8aae3646def1517297976432.jpg"}(String), 1(Integer), 2018-01-30 15:39:36.432(Timestamp) 
2018-01-30 15:39:36 [http-nio-8080-exec-2] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:39:36 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:39:36 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:39:36 [http-nio-8080-exec-2] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:39:36 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:39:36 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:39:36 [http-nio-8080-exec-4] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:39:36 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:39:36 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 815(Integer) 
2018-01-30 15:39:36 [http-nio-8080-exec-4] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:39:56 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:39:56 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:39:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:39:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:39:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-033954.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0339541517297997026.m4a"}(String), 1(Integer), 2018-01-30 15:39:57.027(Timestamp) 
2018-01-30 15:39:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:39:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:39:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:39:57 [http-nio-8080-exec-6] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:39:58 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:39:58 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:39:58 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:39:58 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:39:58 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 816(Integer) 
2018-01-30 15:39:58 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:40:09 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:40:09 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:40:09 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:40:09 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:40:09 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"IMG_20180127_144348.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/IMG_20180127_1443481517298009653.jpg"}(String), 1(Integer), 2018-01-30 15:40:09.653(Timestamp) 
2018-01-30 15:40:09 [http-nio-8080-exec-5] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:40:09 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:40:09 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:40:09 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:40:09 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:40:09 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:40:10 [http-nio-8080-exec-9] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:40:10 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:40:10 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 817(Integer) 
2018-01-30 15:40:10 [http-nio-8080-exec-9] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:40:12 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:40:12 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:40:12 [http-nio-8080-exec-8] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:40:12 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:40:12 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"2018-01-30-034008.m4a","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/2018-01-30-0340081517298012216.m4a"}(String), 1(Integer), 2018-01-30 15:40:12.217(Timestamp) 
2018-01-30 15:40:12 [http-nio-8080-exec-8] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:40:12 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:40:12 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:40:12 [http-nio-8080-exec-8] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:40:12 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:40:12 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:40:12 [http-nio-8080-exec-1] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:40:12 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:40:12 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 818(Integer) 
2018-01-30 15:40:13 [http-nio-8080-exec-1] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:40:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:40:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:40:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:40:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:40:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"video_20180127_142645.mp4","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/video_20180127_1426451517298015490.mp4"}(String), 1(Integer), 2018-01-30 15:40:15.49(Timestamp) 
2018-01-30 15:40:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:40:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:40:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:40:15 [http-nio-8080-exec-3] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:40:15 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:40:15 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:40:15 [http-nio-8080-exec-10] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:40:15 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:40:15 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 819(Integer) 
2018-01-30 15:40:15 [http-nio-8080-exec-10] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:50:40 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:50:40 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:50:40 [http-nio-8080-exec-7] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:50:40 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==>  Preparing: insert into history_message (message_id, user_from_id, to_id, text_type, text_content, message_type, date) values (?, ?, ?, ?, ?, ?, ?)  
2018-01-30 15:50:40 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 ==> Parameters: null, 10022(Integer), 10022(Integer), 3(Integer), {"fileName":"截屏_20180127_183126.jpg","filePath":"/home/star/testFile/IMHIIMHI/upLoadFile/10022/截屏_20180127_1831261517298640334.jpg"}(String), 1(Integer), 2018-01-30 15:50:40.335(Timestamp) 
2018-01-30 15:50:40 [http-nio-8080-exec-7] DEBUG c.j.i.m.HistoryMessageMapper.insert : 
 <==    Updates: 1 
2018-01-30 15:50:40 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==>  Preparing: SELECT LAST_INSERT_ID() AS messageId  
2018-01-30 15:50:40 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 ==> Parameters:  
2018-01-30 15:50:40 [http-nio-8080-exec-7] DEBUG c.j.i.m.H.insert!selectKey : 
 <==      Total: 1 
2018-01-30 15:50:40 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==>  Preparing: select user_id, phone_num, nikname, head_url, age, gender, birth, user_password, motto from user where user_id = ?  
2018-01-30 15:50:40 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 ==> Parameters: 10022(Integer) 
2018-01-30 15:50:40 [http-nio-8080-exec-5] DEBUG c.j.i.m.U.selectByPrimaryKey : 
 <==      Total: 1 
2018-01-30 15:50:40 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==>  Preparing: select message_id, user_from_id, to_id, text_type, text_content, message_type, date from history_message where message_id = ?  
2018-01-30 15:50:40 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 ==> Parameters: 820(Integer) 
2018-01-30 15:50:40 [http-nio-8080-exec-5] DEBUG c.j.i.m.H.selectByPrimaryKey : 
 <==      Total: 1 
